Этот проект реализует экспортер для сбора системных метрик, которые собираются Prometheus. Экспортер предоставляет информацию об использовании процессора, памяти и дискового пространства.

## Установка

1. Убедитесь, что у вас установлен Python версии 3.6 или выше.
2. Установите необходимые зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Создайте файл .env в корне проекта и укажите переменные окружения:
    ```
    EXPORTER_HOST=0.0.0.0
    EXPORTER_PORT=8080
    ```
## Запуск
Запустите экспортера:
```bash
python exporter.py
```
Экспортер будет работать по адресу:
```
http://<EXPORTER_HOST>:<EXPORTER_PORT>
```
По умолчанию:
```
http://0.0.0.0:8080
```
## Метрики
Экспортер собирает следующие метрики:
```
cpu_usage: Использование процессорных ядер (по ядрам).
memory_total: Общее количество оперативной памяти.
memory_used: Используемое количество оперативной памяти.
disk_total: Общий объём дискового пространства.
disk_used: Используемое дисковое пространство.
```
## Настройка Prometheus
Добавьте в файл prometheus.yml следующую конфигурацию:

```yaml
scrape_configs:
  - job_name: "exporter"
    static_configs:
      - targets: ["localhost:8080"]
```
Перезапустите Prometheus, чтобы применить изменения.

## PromQL-запросы
Использование процессоров (среднее по ядрам):

```promql
avg(cpu_usage) by (core)
```
Общее количество оперативной памяти (в ГБ):

```promql
memory_total / 1024 / 1024 / 1024
```
Используемая память (в ГБ):

```promql
memory_used / 1024 / 1024 / 1024
```
Общий объём дискового пространства (в ГБ):

```promql
disk_total / 1024 / 1024 / 1024
```
Используемое дисковое пространство (в ГБ):

```promql
disk_used / 1024 / 1024 / 1024
```
